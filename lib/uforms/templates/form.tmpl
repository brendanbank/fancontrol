{% args header, form %}

{% if form.get('success') %}
<div class="row text-center row justify-content-md-center">
    <div class="alert alert-success floating-alert alert-dismissible fade show text-center" timeout="2000" role="alert">
      <span><i class="bi bi-check-circle-fill"></i> {{ form.get('success') }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></span>
    </div>
</div>
{% endif %}


<form id="{{ form['name'] }}" name="{{ form['name'] }}" action="" method="post" class="needs-validation row justify-content-md-center" novalidate>
<div class="col-md-12">
        <h2 class="text-center">{{ header }}</h2>
</div>
    <div class="row col-md-9">
{% for field in form.get('fields') %}

{% if field.get("prepend_class") %}<div class="position-relative {{field.get("prepend_class")}} mt-3"></div>{% endif %}
{% if field.get("type") == "checkbox" %}

                <div class="{{ field.get("css") }} position-relative mt-3">
                    <div class="form-check form-switch">
                      <input class="form-check-input {{ field.get("checkbox_css") }}" type="checkbox" name="{{ field.get("name") }}" {% if field.get("value") == "on" %}checked {% endif %}id="{{ field.get("name") }}">
                      <label class="form-check-label" for="{{ field.get("name") }}"><small>{{ field.get("label") }}</small></label>
                    </div>
                </div>
{% elif field.get("type") == "hr" %}
            <div class="{{ field.get("css") }} position-relative mt-2 text-center div-line">
                   <hr class="hr-line ">
                   <span class="text-line fw-bold fs-6">{{ field.get("value") }}</span>
            </div>
{% else %}
            <div class="{{ field.get("css") }} position-relative mt-3">
                <label for="{{ field.get("name") }}" class="form-label"><small>{{ field.get("label") }}</small></label>
                <div class="input-group">
                    <input type="{{ field.get("type") }}" class="form-control{% if field.get("value") != "" %} {{ field.get("valid_css") }}{% endif %}"
                            id="{{ field.get("name") }}" name="{{ field.get("name") }}"
                            value="{{ field.get("value") }}"
                            aria-describedby="{{ field.get("name") }}_feedback" required>
                    <div class="invalid-tooltip">
                      {{ field.get("label") }} {{ field.get("error") }} 
                    </div>
{% if field.get("show_password") %}
                    <button type="button" class="btn btn-outline-secondary toggle-password">
                        <i class="bi bi-eye-slash"></i>
                    </button>
{% endif %}

               </div>
              </div>
{% endif %}
{% if field.get("extend_class") %}<div class="position-relative {{field.get("extend_class")}} mt-3"></div>{% endif %}
{% endfor %}
</div>
    <div class="row mt-3">
    
        <div class="col-md-4 position-relative text-center">
        </div>

        <div class="col-md d-grid gap-2 col-md">
          <button class="btn btn-primary" name="submit" type="submit">Submit</button>

        </div>
        <div class="col-md-4 position-relative text-center">
        </div>
    </div>

</form>

{% if form.get('disable_id') %}

<!--  JavaScript to disable all input fields 
<script>
    // Call the function to toggle fields
    toggleFormFields('{{ form.get('disable_id') }}', '{{ form.get('name') }}');
</script>
-->
{% endif %}